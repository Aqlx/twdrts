var xp=function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var s={Modal:function(){function t(e){a(this,t),this.el=document.getElementById(e)}return i(t,[{key:"show",value:function(){this.el.classList.add("md-show")}},{key:"hide",value:function(){this.el.classList.remove("md-show")}},{key:"toggle",value:function(){this.el.classList.toggle("md-show")}}]),t}(),Table:function(){function t(e){a(this,t),(this.el=document.createElement("table")).className=e}return i(t,[{key:"addRow",value:function(t){for(var e=document.createElement("tr"),n=0;n<t.length;n++)e.appendChild(t[n]);return this.el.appendChild(e),this}},{key:"addCol",value:function(t){var e=document.createElement("td");return t.hasOwnProperty("class")&&(e.className=t.class),t.hasOwnProperty("id")&&(e.id=t.id),t.hasOwnProperty("text")&&(e.innerHTML=t.text),t.hasOwnProperty("child")&&e.appendChild(t.child),t.hasOwnProperty("rowspan")&&e.setAttribute("rowspan",t.rowspan),t.hasOwnProperty("colspan")&&e.setAttribute("colspan",t.colspan),e}}]),t}(),Tab:function(){function t(e){a(this,t),this.el=document.getElementById(e),this.tabs=this.el.querySelectorAll("[data-tab]"),this.tabContents=this.el.querySelectorAll("[data-tab-content]"),this.iniEvent()}return i(t,[{key:"iniEvent",value:function(){for(var t=this,e=function(e){t.tabs[e].onclick=function(){for(var n=0;n<t.tabs.length;n++)t.tabs[n].classList.remove("active");var a=t.tabs[e].dataset.tab;t.tabs[e].classList.add("active"),t.showContent(a)}},n=0;n<this.tabs.length;n++)e(n)}},{key:"showContent",value:function(t){for(var e=0;e<this.tabContents.length;e++)this.tabContents[e].classList.remove("show");document.querySelector("[data-tab-content=".concat(t,"]")).classList.add("show")}}]),t}(),SelectTraits:function(){function t(e){var n=this;a(this,t),this.el=document.getElementById(e),this.bottons=this.el.querySelectorAll("button"),this.active=[],[].forEach.call(this.bottons,(function(t){t.onclick=function(){var e=t.dataset.trait;if(e.match(/all|melee|range/))for(var a=n.active.length;a--;)n.remove(n.active[a]);else{if(!e.match(/fast|strong|alert|tough/))return!1;for(var r=n.active.length;r--;)n.active[r].match(/fast|strong|alert|tough/)||n.remove(n.active[r])}n.toggle(t)}}))}return i(t,[{key:"toggle",value:function(t){var e=t.dataset.trait;t.classList.toggle("active");var n=this.active.indexOf(e);return-1==n?this.active.push(e):this.active.splice(n,1),this}},{key:"remove",value:function(t){var e=this.active.indexOf(t),n=this.el.querySelector("[data-trait=".concat(t,"]"));this.active.splice(e,1),n.classList.remove("active")}}]),t}()};e.a=s},function(t){t.exports=JSON.parse('{"scavXp":{"ygl":100000,"bnm":60000,"bonus":30000},"maxLevel":{"s4":{"t1":40,"t2":50,"t3":60,"t4":70},"s5":{"t1":50,"t2":60,"t3":70,"t4":80},"s6":{"t1":60,"t2":70,"t3":80,"t4":90}},"xp":{"s4":{"t1":[263,264,266,270,274,278,283,288,294,300,306,313,320,327,335,343,351,360,368,377,386,396,405,415,425,436,446,457,468,479,490,502,513,525,537,549,562,574,587],"t2":[300,302,305,309,314,320,326,332,340,347,355,364,373,382,392,402,412,423,434,445,456,468,481,493,506,519,532,545,559,573,587,602,617,632,647,662,678,694,710,726,743,759,776,793,811,828,846,864,882],"t3":[338,340,345,351,358,366,375,385,396,407,419,431,444,458,472,487,502,517,533,550,567,584,602,620,639,658,678,697,718,738,759,780,802,824,846,869,892,915,938,962,986,1011,1036,1061,1086,1112,1138,1164,1191,1217,1244,1272,1299,1327,1355,1384,1412,1441,1471],"t4":[375,380,389,402,416,432,450,470,490,513,536,561,587,614,642,671,702,733,765,798,831,866,902,938,975,1013,1052,1091,1131,1172,1214,1256,1299,1342,1387,1432,1477,1524,1570,1618,1666,1715,1764,1814,1864,1916,1967,2019,2072,2125,2179,2234,2289,2344,2400,2457,2514,2571,2629,2688,2747,2806,2866,2927,2988,3049,3111,3174,3237]},"s5":{"t1":[300,302,305,309,314,320,326,332,340,347,355,364,373,382,392,402,412,423,434,445,456,468,481,493,506,519,532,545,559,573,587,602,617,632,647,662,678,694,710,726,743,759,776,793,811,828,846,864,882],"t2":[338,340,345,351,358,366,375,385,396,407,419,431,444,458,472,487,502,517,533,550,567,584,602,620,639,658,678,697,718,738,759,780,802,824,846,869,892,915,938,962,986,1011,1036,1061,1086,1112,1138,1164,1191,1217,1244,1272,1299,1327,1355,1384,1412,1441,1471],"t3":[375,380,389,402,416,432,450,470,490,513,536,561,587,614,642,671,702,733,765,798,831,866,902,938,975,1013,1052,1091,1131,1172,1214,1256,1299,1342,1387,1432,1477,1524,1570,1618,1666,1715,1764,1814,1864,1916,1967,2019,2072,2125,2179,2234,2289,2344,2400,2457,2514,2571,2629,2688,2747,2806,2866,2927,2988,3049,3111,3174,3237],"t4":[413,419,431,446,464,485,507,532,559,587,617,648,681,715,751,788,826,865,906,948,990,1034,1079,1125,1172,1220,1269,1319,1370,1422,1474,1528,1582,1638,1694,1751,1808,1867,1926,1986,2047,2109,2171,2235,2299,2363,2429,2495,2562,2629,2697,2766,2836,2906,2977,3048,3121,3193,3267,3341,3416,3491,3567,3644,3721,3799,3877,3956,4036,4116,4197,4279,4360,4443,4526,4610,4694,4779,4863]},"s6":{"t1":[338,340,345,351,358,366,375,385,396,407,419,431,444,458,472,487,502,517,533,550,567,584,602,620,639,658,678,697,718,738,759,780,802,824,846,869,892,915,938,962,986,1011,1036,1061,1086,1112,1138,1164,1191,1217,1244,1272,1299,1327,1355,1384,1412,1441,1471],"t2":[375,380,389,402,416,432,450,470,490,513,536,561,587,614,642,671,702,733,765,798,831,866,902,938,975,1013,1052,1091,1131,1172,1214,1256,1299,1342,1387,1432,1477,1524,1570,1618,1666,1715,1764,1814,1864,1916,1967,2019,2072,2125,2179,2234,2289,2344,2400,2457,2514,2571,2629,2688,2747,2806,2866,2927,2988,3049,3111,3174,3237],"t3":[413,419,431,446,464,485,507,532,559,587,617,648,681,715,751,788,826,865,906,948,990,1034,1079,1125,1172,1220,1269,1319,1370,1422,1474,1528,1582,1638,1694,1751,1808,1867,1926,1986,2047,2109,2171,2235,2299,2363,2429,2495,2562,2629,2697,2766,2836,2906,2977,3048,3121,3193,3267,3341,3416,3491,3567,3644,3721,3799,3877,3956,4036,4116,4197,4279,4360,4443,4526,4610,4694,4779,4863],"t4":[435,442,455,471,491,513,538,564,593,624,656,690,725,762,801,841,882,925,968,1014,1060,1107,1156,1206,1256,1308,1361,1415,1470,1526,1583,1641,1699,1759,1820,1881,1944,2007,2071,2136,2202,2269,2336,2405,2474,2544,2614,2686,2758,2831,2905,2979,3054,3130,3207,3284,3362,3441,3520,3601,3681,3763,3845,3928,4011,4096,4180,4266,4352,4439,4526,4614,4703,4792,4882,4972,5063,5155,5247,5340,5433,5527,5622,5717,5813,5909,6006,6103,6201]}},"renown":{"s4":[105,210,420,875],"s5":[875,1750,3500,7000],"s6":[1725,3450,6900,13800]}}')},,,function(t,e,n){"use strict";n.r(e),n.d(e,"ScavengerCamp",(function(){return o}));var a=n(1),r=n(0);n(5);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o={state:{campMember:[],countMember:0,xpPerMember:0},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mergeOptions(t).defineEl().iniEvents().iniCamp().iniModal().bootstrap()},mergeOptions:function(t){var e={scavType:t.scavType||"ygl",scavBonus:t.scavBonus||!1,input:{name:t.name||"",star:t.star||6,tier:t.tier||1,lvl:t.lvl||1,xp:t.xp||0}};return this.state=s({},this.state,{},e),this},defineEl:function(){return this.el={scavType:document.querySelectorAll('input[name="scav-type"]'),chkBonus:document.getElementById("chk-scav-bonus"),btnBonus:document.getElementById("btn-scav-bonus"),modalAddMember:new r.a.Modal("modal-addmember"),total:document.getElementById("total")},this},iniEvents:function(){var t=this;return[].forEach.call(this.el.scavType,(function(e){e.onchange=function(e){"bnm"===(e.target||e.currentTarget).value?(t.el.btnBonus.classList.remove("disabled"),t.state.scavType="bnm"):(t.el.btnBonus.classList.add("disabled"),t.state.scavType="ygl"),t.state.countMember&&t.calculate()}})),this.el.chkBonus.onchange=function(e){(e.target||e.currentTarget).checked?t.state.scavBonus=!0:t.state.scavBonus=!1,t.state.countMember&&t.calculate()},this},iniCamp:function(){var t=this,e=document.getElementById("camp"),n=this.el.campNodes=e.getElementsByTagName("li");return[].forEach.call(n,(function(e){e.onclick=function(e){var n=e.target||e.currentTarget;t.state.input.idx=parseInt(n.dataset.idx,10),t.el.modalAddMember.show()}})),this},iniModal:function(){var t=this;(this.el.inputName=document.getElementById("ipt-name")).onkeyup=function(e){var n=e.target||e.currentTarget;t.state.input.name=n.value};var e=document.querySelectorAll("input[name=ipt-star]");[].forEach.call(e,(function(e){e.onchange=function(e){var n=e.target||e.currentTarget;t.state.input.star=parseInt(n.value,10),t.setMaxLevel()}}));var n=document.querySelectorAll("input[name=ipt-tier]");[].forEach.call(n,(function(e){e.onchange=function(e){var n=e.target||e.currentTarget;t.state.input.tier=parseInt(n.value,10),t.setMaxLevel()}}));var a=this.el.inputLvl=document.getElementById("ipt-lvl");a.onkeyup=function(e){var n=e.target||e.currentTarget;n.value>t.state.maxLevel&&(n.value=t.state.maxLevel),t.state.input.lvl=parseInt(n.value,10)},a.onclick=function(){this.value&&this.setSelectionRange(0,2)};var r=this.el.inputXp=document.getElementById("ipt-xp");return r.onkeyup=function(e){var n=e.target||e.currentTarget;n.value>9999&&(n.value=9999),t.state.input.xp=parseInt(n.value,10)},r.onclick=function(){this.value&&this.setSelectionRange(0,4)},document.getElementById("btn-addtocamp").onclick=function(){t.state.countMember>5||(t.addToCamp(s({},t.state.input)),t.el.modalAddMember.hide(),t.clearForm())},document.getElementById("btn-close-md").onclick=function(){t.el.modalAddMember.hide()},this},bootstrap:function(){return document.getElementById("scav-type-".concat(this.state.scavType)).checked=!0,document.getElementById("ipt-star-".concat(this.state.input.star)).checked=!0,document.getElementById("ipt-tier-".concat(this.state.input.tier)).checked=!0,document.getElementById("ipt-lvl").value=this.state.input.lvl,document.getElementById("ipt-xp").value=this.state.input.xp,"ygl"===this.state.scavType&&this.el.btnBonus.classList.add("disabled"),this.setMaxLevel(),this},setMaxLevel:function(){this.state.maxLevel=a.maxLevel["s".concat(this.state.input.star)]["t".concat(this.state.input.tier)]},addToCamp:function(t){this.state.campMember[t.idx]=t,this.state.countMember+=1,this.createMember(t)},getEmptyNodes:function(){for(var t,e=0;e<5;e++)if(!this.el.campNodes[e].hasChildNodes()){t=e;break}return t},createMember:function(t){var e=document.createElement("div");e.className="fill",e.onclick=function(t){t.stopPropagation()},e.appendChild(this.addBtnRemove(t.idx)),e.appendChild(this.addTier(t.tier)),e.appendChild(this.addName(t.name)),e.appendChild(this.addStar(t.star)),e.appendChild(this.addDetailsBox(t)),e.appendChild(this.addXpGain(t.idx)),e.appendChild(this.addRenown(t.idx)),this.el.campNodes[t.idx].appendChild(e),this.calculate()},addBtnRemove:function(t){var e=this,n=document.createElement("span");return n.className="close",n.innerHTML="&times;",n.idx=t,n.onclick=function(t){t.stopPropagation();var n=t.target||t.currentTarget;e.removeMember(n.idx)},n},addTier:function(t){var e=document.createElement("div");e.className="tier-wrapper";for(var n=0;n<4;n++){var a=document.createElement("span");a.className="tier",n<t&&(a.className+=" fill"),e.appendChild(a)}return e},addName:function(t){var e=document.createElement("div");return e.className="sh-name",e.innerHTML=t,e},addStar:function(t){var e=document.createElement("div");e.className="sh-star",6===t&&(e.className+=" clr-amber");for(var n=0;n<t;n++){var a=document.createElement("i");a.className="icon icon-star",e.appendChild(a)}return e},addDetailsBox:function(t){var e=document.createElement("i");e.className="icon icon-chevron-right";var n=new r.a.Table("tbl-box");return n.addRow([n.addCol({class:"a",text:"lvl"}),n.addCol({class:"b",text:t.lvl}),n.addCol({class:"c",child:e,rowspan:2}),n.addCol({id:"lvl-".concat(t.idx),class:"d"})]).addRow([n.addCol({class:"e",text:"xp"}),n.addCol({class:"f",text:t.xp}),n.addCol({id:"xp-to-".concat(t.idx),class:"g"})]).addRow([n.addCol({id:"xp-left-".concat(t.idx),class:"h f-safe",colspan:4})]).addRow([n.addCol({id:"self-".concat(t.idx),class:"h f-safe",colspan:4})]),n.el},addXpGain:function(t){var e=document.createElement("div");e.className="sh-xpgain";var n=document.createElement("span");n.className="clr-lightyellow",n.innerHTML="Xp Gain ";var a=document.createElement("span");return a.id="xp-gain-".concat(t),e.appendChild(n),e.appendChild(a),e},addRenown:function(t){var e=document.createElement("div");e.className="sh-renown";var n=document.createElement("span");n.className="clr-lightyellow",n.style.marginRight=".4rem",n.innerHTML="Renown";var a=document.createElement("span");return a.id="renown-".concat(t),a.style.fontSize="1.4rem",a.className="clr-amber",e.appendChild(n),e.appendChild(a),e},removeMember:function(t){for(var e=this.el.campNodes[t];e.firstChild;)e.removeChild(e.firstChild);this.state.campMember[t]=null,this.state.countMember-=1,this.calculate()},calculate:function(){this.state.xpPerMember=parseInt((a.scavXp[this.state.scavType]+this.getChallangeBonusXp())/this.state.countMember,10)||0;for(var t=0,e=0;e<=4;e++)if(this.state.campMember[e]){var n=this.calculateMember(e);this.setResult(e,n),t+=n.renown}this.setTotal(t)},calculateMember:function(t){var e=this.getRemainingXpChart(t),n=0,a=0,r=0,i=0;if(e.length){this.state.campMember[t].xp>e[0]&&(this.state.campMember[t].xp=e[0]),e[0]-=this.state.campMember[t].xp;for(var s=0;s<e.length;s++){if((n+=e[s])>this.state.xpPerMember){a=s,r=this.state.xpPerMember+e[s]-n,n=this.state.xpPerMember,i=this.getRemainingXpTotal(e)-this.state.xpPerMember;break}a=s+1,r="max",i=0}}else r="max",i=0;var c=this.getSafe(t,this.state.xpPerMember);return{lvlGain:a,xp:r,xpGain:n,renown:this.getRenownPoint(t,a),xpLeft:i,safe:c}},getChallangeBonusXp:function(){return"bnm"===this.state.scavType&&this.state.scavBonus?3e4:0},getRemainingXpChart:function(t){return a.xp["s".concat(this.state.campMember[t].star)]["t".concat(this.state.campMember[t].tier)].slice(this.state.campMember[t].lvl-1)},getRemainingXpTotal:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e},getSafe:function(t,e){for(var n=a.xp["s".concat(this.state.campMember[t].star)]["t".concat(this.state.campMember[t].tier)],r={lvl:0,xp:0},i=n.length-1;i>=0;i--)if((e-=n[i])<0){r.lvl=i+1,r.xp=-e;break}return r},getRenownPoint:function(t,e){return a.renown["s".concat(this.state.campMember[t].star)][this.state.campMember[t].tier-1]*e},setResult:function(t,e){var n=document.getElementById("lvl-".concat(t)),a=document.getElementById("xp-to-".concat(t)),r=document.getElementById("xp-gain-".concat(t)),i=document.getElementById("renown-".concat(t)),s=document.getElementById("xp-left-".concat(t)),c=document.getElementById("self-".concat(t));n.innerHTML=this.state.campMember[t].lvl+e.lvlGain,a.innerHTML=e.xp.toLocaleString(),"max"===e.xp?(a.className="txt-max",a.innerHTML="".concat(e.xp,"!")):(a.className="clr-success",a.innerHTML=e.xp.toLocaleString()),r.innerHTML=e.xpGain.toLocaleString(),i.innerHTML=e.renown.toLocaleString(),e.xpLeft?s.innerHTML='xp to max: <span class="clr-lightyellow">'.concat(e.xpLeft.toLocaleString(),"</span>"):s.innerHTML="",e.safe.lvl?c.innerHTML='safe: lvl <span class="clr-lightyellow">'.concat(e.safe.lvl,'</span> xp <span class="clr-lightyellow">').concat(e.safe.xp.toLocaleString(),"</span>"):c.innerHTML=""},setTotal:function(t){this.el.total.innerHTML=t.toLocaleString()},clearForm:function(){this.el.inputName.value="",this.el.inputLvl.value=1,this.el.inputXp.value=0,this.state.input.name="",this.state.input.lvl=1,this.state.input.xp=0}}},function(t,e,n){}]);