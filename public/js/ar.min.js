"use strict";var apAtttack=20,apPerTurn=[0,0,0,0,0],reportArRound=function(e,t){var n=document.getElementById("r"+e),a=parseInt(document.getElementById("ipt-ap"+e).value,10);n.innerHTML=Math.ceil(a/t)},reportApPerTurn=function(e,t){document.getElementById("apt"+e).innerHTML=t},report=function(e,t){reportArRound(e,t),reportApPerTurn(e,t)},calculateNode=function(e){return apPerTurn[e]=Math.round((apAtttack+getApFromLeader(e)+getApWeapon(e)+getApSpecial(e))*getMethod())},calculateAll=function(){for(var e=0;e<=4;e++)report(e,calculateNode(e))},getMethod=function(){return parseFloat(document.querySelector('input[name="method"]:checked').value)},getApFromLeader=function(e){var t=void 0,n=0,a=document.getElementById("t"+e).value,o=document.querySelector('input[name="leader"]:checked').value;return t="fast"===a||"strong"===a?"melee":"alert"===a||"tough"===a?"ranged":void 0,"all"!==o&&a!==o&&t!==o||(n=parseInt(document.querySelector('input[name="leader-ap"]:checked').value,10)),n},getApWeapon=function(e){return parseInt(document.getElementById("w"+e).value,10)},getApSpecial=function(e){for(var t=0,n=document.querySelectorAll('input[name="special-ap"]:checked'),a=parseInt(document.getElementById("ipt-ap"+e).value,10),o=0;o<n.length;o++)t+=parseInt(n[o].value,10);return Math.round(a*t/100)},eMethods=document.querySelectorAll('input[name="method"]'),eLeaders=document.querySelectorAll('input[name="leader"]'),eLeaderAPs=document.querySelectorAll('input[name="leader-ap"]'),eWeaponAPs=document.querySelectorAll('select[name="weapon-ap"]'),eSpecialAPs=document.querySelectorAll('input[name="special-ap"]'),eSelectTraits=document.querySelectorAll('select[name="triat"]'),eInputAPs=document.querySelectorAll('input[name="input-ap"]');Array.prototype.slice.call(eMethods).concat(Array.prototype.slice.call(eLeaders),Array.prototype.slice.call(eLeaderAPs),Array.prototype.slice.call(eSpecialAPs)).forEach(function(e){e.onchange=function(){calculateAll()}});for(var _loop=function(e){eSelectTraits[e].onchange=function(){var t=document.getElementById("sp"+e);document.getElementById("chk-ar"+e).checked=!1,"fast"!=this.value?t.className="hide":t.className="",calculateAll()}},i=0;i<eSelectTraits.length;i++)_loop(i);for(var _loop2=function(e){eWeaponAPs[e].onchange=function(){report(e,calculateNode(e))}},i=0;i<eWeaponAPs.length;i++)_loop2(i);for(var _loop3=function(e){eInputAPs[e].onclick=function(){this.select()},eInputAPs[e].onkeyup=function(){report(e,calculateNode(e))}},i=0;i<eInputAPs.length;i++)_loop3(i);window.addEventListener("load",function(){new FastClick(document.body)},!1),calculateAll();